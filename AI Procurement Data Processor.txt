AI Procurement Data Processor - Current Architecture
ðŸ—ï¸ Overall System Structure
ai_procurement/
â”œâ”€â”€ ðŸ“ app/                          # Application entry point
â”‚   â””â”€â”€ main.py                      # Main Streamlit application
â”œâ”€â”€ ðŸ“ config/                       # Configuration management
â”‚   â”œâ”€â”€ __init__.py                  # Package initialization & app config
â”‚   â”œâ”€â”€ ui_config.py                 # UI settings & constants 
â”‚   â””â”€â”€ api_config.py                # API key management & session state
â”œâ”€â”€ ðŸ“ tabs/                         # UI tab implementations
â”‚   â”œâ”€â”€ file_processing.py           # File upload & processing UI
â”‚   â”œâ”€â”€ field_mapping.py             # Field mapping review UI
â”‚   â”œâ”€â”€ results_display.py           # Results visualization UI
â”‚   â”œâ”€â”€ price_analysis.py            # Price analysis UI
â”‚   â””â”€â”€ order_optimization.py        # Order optimization UI
â”œâ”€â”€ ðŸ“ components/                   # Reusable UI components
â”‚   â”œâ”€â”€ file_uploader.py             # File upload widgets
â”‚   â”œâ”€â”€ metrics_display.py           # Metrics & KPIs display
â”‚   â””â”€â”€ data_tables.py               # Data table components
â”œâ”€â”€ ðŸ“ analysis/                     # Core business logic
â”‚   â”œâ”€â”€ price_analysis_core.py       # Price analysis algorithms
â”‚   â”œâ”€â”€ order_optimization_core.py   # Order optimization logic
â”‚   â””â”€â”€ order_analysis.py            # Order analysis utilities
â”œâ”€â”€ ðŸ“ detection/                    # Data field detection system
â”‚   â”œâ”€â”€ field_detector.py            # Base field detection
â”‚   â”œâ”€â”€ ai_detector.py               # AI-powered detection
â”‚   â”œâ”€â”€ pattern_detector.py          # Pattern-based detection
â”‚   â””â”€â”€ csv_parser.py                # CSV parsing utilities
â”œâ”€â”€ ðŸ“ shared/                       # Shared utilities
â”‚   â”œâ”€â”€ logging_utils.py             # Logging configuration
â”‚   â”œâ”€â”€ progress_tracking.py         # Progress indicators
â”‚   â”œâ”€â”€ export_utils.py              # Data export functionality
â”‚   â””â”€â”€ error_handling.py            # Error management
â”œâ”€â”€ ðŸ“ models/                       # Data models & structures
â”‚   â”œâ”€â”€ __init__.py                  # Model definitions
â”‚   â””â”€â”€ (ProductData, FieldMapping, etc.)
â”œâ”€â”€ ðŸ“„ processor.py                  # Main processing engine
â”œâ”€â”€ ðŸ“„ file_processor.py             # File processing logic
â”œâ”€â”€ ðŸ“„ price_analyzer.py             # Price analysis engine
â”œâ”€â”€ ðŸ“„ order_optimizer.py            # Order optimization engine
â”œâ”€â”€ ðŸ“„ utils.py                      # General utilities
â”œâ”€â”€ ðŸ“„ constants.py                  # Application constants
â”œâ”€â”€ ðŸ“„ requirements.txt              # Dependencies
â””â”€â”€ ðŸ“„ .env                          # Environment variables
ðŸ”§ Core Components & Responsibilities
1. Application Layer

main.py: Entry point, tab orchestration, Streamlit configuration
config/: Centralized configuration management

ui_config.py: UI constants, messages, styling
api_config.py: API key management, session state setup



2. User Interface Layer

tabs/: Individual Streamlit tab implementations

File Processing, Field Mapping, Results, Price Analysis, Order Optimization


components/: Reusable UI widgets

File uploaders, metrics displays, data tables



3. Business Logic Layer

processor.py: Main data processing orchestrator
analysis/: Core business algorithms (separate from UI)

Price comparison logic
Order optimization algorithms


detection/: Field detection system

AI-powered field detection (Groq API)
Pattern-based fallback detection



4. Data Layer

models/: Data structures and schemas

ProductData, FieldMapping, ProcessingResult


file_processor.py: File reading and parsing
shared/export_utils.py: Data export functionality

5. Infrastructure Layer

shared/: Cross-cutting concerns

Logging, progress tracking, error handling


utils.py: General utility functions
constants.py: Application-wide constants

ðŸ”„ Data Flow Architecture
mermaidgraph TD
    A[User Uploads Files] --> B[File Processor]
    B --> C[Field Detection]
    C --> D[AI Detector]
    C --> E[Pattern Detector]
    D --> F[Main Processor]
    E --> F
    F --> G[Data Validation & Cleaning]
    G --> H[Product Extraction]
    H --> I[Session State Storage]
    I --> J[Price Analysis]
    I --> K[Order Optimization]
    J --> L[Results Display]
    K --> L
    L --> M[Export Options]
ðŸŽ¯ Key Features & Capabilities
Universal EAN Detection

Detects: EAN-13, EAN-8, UPC-A, Gencod, custom barcodes
AI-enhanced detection with pattern fallback
Multiple encoding support (CP1252, UTF-8, Latin-1)

AI-Powered Field Detection

Groq API integration for intelligent field mapping
Fallback to pattern-based detection
Multi-language support (EN, FR, PT, ES)

Price Analysis Engine

Multi-supplier price comparison
Savings opportunity identification
Competitive analysis and rankings

Order Optimization System

Buying list processing
Supplier distribution optimization
Cost minimization algorithms


ðŸ”§ Architecture Strengths
âœ… Modular Design: Clear separation of concerns
âœ… Scalable Structure: Easy to extend and maintain
âœ… UI/Logic Separation: Business logic separated from presentation
âœ… Configuration Management: Centralized settings
âœ… Error Handling: Comprehensive error management
âœ… Progress Tracking: User-friendly progress indicators